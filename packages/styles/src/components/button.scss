@use '../variables' as *;
@use '../mixins' as *;

@include b(button) {
  @include button-base;
  
  // 尺寸
  @include m(small) {
    @include button-size(24px, 12px, 12px);
  }
  
  @include m(medium) {
    @include button-size(32px, 16px, 14px);
  }
  
  @include m(large) {
    @include button-size(40px, 20px, 16px);
  }
  
  // 类型
  @include m(default) {
    @include button-variant(
      var(--mw-color-text-primary),
      var(--mw-color-bg-surface),
      var(--mw-color-border)
    );
    
    &:hover:not(:disabled) {
      border-color: var(--mw-color-primary);
      color: var(--mw-color-primary);
    }
  }
  
  @include m(primary) {
    background: var(--mw-gradient-primary);
    color: white;
    border: none;
    
    &:hover:not(:disabled) {
      box-shadow: var(--mw-shadow-glow);
    }
  }
  
  @include m(success) {
    @include button-variant(white, var(--mw-color-success), var(--mw-color-success));
  }
  
  @include m(warning) {
    @include button-variant(white, var(--mw-color-warning), var(--mw-color-warning));
  }
  
  @include m(danger) {
    @include button-variant(white, var(--mw-color-error), var(--mw-color-error));
  }
  
  // 形状
  @include m(round) {
    border-radius: var(--mw-radius-full);
  }
  
  @include m(circle) {
    border-radius: 50%;
    padding: 0;
    width: 32px; // 默认 medium 尺寸
    
    &.m-button--small { width: 24px; }
    &.m-button--large { width: 40px; }
  }
  
  // 状态
  @include when(loading) {
    pointer-events: none;
    
    &::before {
      content: '';
      @include loading-spinner;
      margin-right: 6px;
    }
  }
  
  @include when(disabled) {
    opacity: 0.5;
    cursor: not-allowed;
    box-shadow: none !important;
    transform: none !important;
  }
}